<!DOCTYPE HTML>
<html>
  <head>
    <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
    <link rel="Stylesheet" type="text/css" href="/static/css/tango.css">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="alternate" type="application/atom+xml" href="atom.xml" title="Atom feed">
    <title>js 学习笔记 - Wiki | HanSong</title>
    <meta name="keywords" content="wiki, markdown, linux, c, java, python, qemu"/>
    <meta name="description" content="HanSong's personal wiki, recording my little thoughts"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>

  <body>
    <div id="container">
      
<div id="header">
  <div class="post-nav"><a href="/">Home</a>&nbsp;&#187;&nbsp;<a href="/#web">web</a>&nbsp;&#187;&nbsp;js 学习笔记
    <span class="updated">Updated&nbsp;
      2016-07-23
    </span></div>
</div>
<div class="clearfix"></div>

<div class="page_title">js 学习笔记</div>

  <div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#js">js 类型</a><ul>
<li><a href="#date">Date</a></li>
</ul>
</li>
<li><a href="#_1">注意事项</a></li>
</ul>
</div>
<h2 id="js">js 类型</h2>
<p>JavaScript的值可以分为两种类型：基本类型和对象类型，基本类型有：String, Number, Boolean, Symbol, undefined 和 null.，对象类型有Function, Object 和 Array.</p>
<p>基本类型和对象类型的区别在于可变性和比较的方式以及程序中传值。</p>
<p>基本类型是不可变的，换种说法就是它们的值不能改变。对比而言，对象类型是可变的，它们的值可以更新和改变。</p>
<p>基本类型可以按值比较，当我们把一个基本类型赋值给另外一个基本类型，是复制了一个值。而对象这是通过引用进行比较，引用的是什么呢？引用的是底层对象。当我们赋值一个对象给另一个对象时。引用指针就创建了。在这个情况下，改变一个对象的值将更新另外一个对象的值。</p>
<p>当我们尝试在基本类型的值中调用方法时，JavaScript使用包装对象来临时控制基本类型，导致对象变为只读的并在垃圾回收后执行。</p>
<h3 id="date">Date</h3>
<p>在JavaScript中，Date对象用来表示日期和时间。</p>
<p>要获取系统当前时间，用：</p>
<div class="hlcode"><pre><span class="n">var</span> <span class="n">now</span> <span class="o">=</span> <span class="n">new</span> <span class="n">Date</span><span class="p">();</span>
<span class="n">now</span><span class="p">;</span> <span class="c1">// Wed Jun 24 2015 19:49:22 GMT+0800 (CST)</span>
<span class="n">now</span><span class="p">.</span><span class="n">getFullYear</span><span class="p">();</span> <span class="c1">// 2015, 年份</span>
<span class="n">now</span><span class="p">.</span><span class="n">getMonth</span><span class="p">();</span> <span class="c1">// 5, 月份，注意月份范围是0~11，5表示六月</span>
<span class="n">now</span><span class="p">.</span><span class="n">getDate</span><span class="p">();</span> <span class="c1">// 24, 表示24号</span>
<span class="n">now</span><span class="p">.</span><span class="n">getDay</span><span class="p">();</span> <span class="c1">// 3, 表示星期三</span>
<span class="n">now</span><span class="p">.</span><span class="n">getHours</span><span class="p">();</span> <span class="c1">// 19, 24小时制</span>
<span class="n">now</span><span class="p">.</span><span class="n">getMinutes</span><span class="p">();</span> <span class="c1">// 49, 分钟</span>
<span class="n">now</span><span class="p">.</span><span class="n">getSeconds</span><span class="p">();</span> <span class="c1">// 22, 秒</span>
<span class="n">now</span><span class="p">.</span><span class="n">getMilliseconds</span><span class="p">();</span> <span class="c1">// 875, 毫秒数</span>
<span class="n">now</span><span class="p">.</span><span class="n">getTime</span><span class="p">();</span> <span class="c1">// 1435146562875, 以number形式表示的时间戳</span>
</pre></div>


<p><em>注意</em>:
- 当前时间是浏览器从本机操作系统获取的时间，所以不一定准确，因为用户可以把当前时间设定为任何值。
- JavaScript的月份范围用整数表示是0~11，0表示一月，1表示二月……，所以要表示6月，我们传入的是5！</p>
<h2 id="_1">注意事项</h2>
<ul>
<li>不要使用<code>new Number()</code>、<code>new Boolean()</code>、<code>new String()</code>创建包装对象；</li>
<li>用<code>parseInt()</code>或<code>parseFloat()</code>来转换任意类型到<code>number</code>；</li>
<li>用<code>String()</code>来转换任意类型到<code>string</code>，或者直接调用某个对象的<code>toString()</code>方法；</li>
<li>通常不必把任意类型转换为<code>boolean</code>再判断，因为可以直接写<code>if (myVar) {...}</code>；</li>
<li><code>typeof</code>操作符可以判断出<code>number</code>、<code>boolean</code>、<code>string</code>、<code>function</code>和<code>undefined</code>；</li>
<li>判断<code>Array</code>要使用<code>Array.isArray(arr)</code>；</li>
<li>判断<code>null</code>请使用<code>myVar === null</code>；</li>
<li>判断某个全局变量是否存在用<code>typeof window.myVar === 'undefined'</code>；</li>
<li>函数内部判断某个变量是否存在用<code>typeof myVar === 'undefined'</code>。</li>
</ul>
<p>最后有细心的同学指出，任何对象都有<code>toString()</code>方法吗？<code>null</code>和<code>undefined</code>就没有！确实如此，这两个特殊值要除外，虽然<code>null</code>还伪装成了<code>object</code>类型。</p>
<p>更细心的同学指出，<code>number</code>对象调用<code>toString()</code>报SyntaxError：</p>
<div class="hlcode"><pre><span class="mf">123.</span><span class="n">toString</span><span class="p">();</span> <span class="c1">// SyntaxError</span>
</pre></div>


<p>遇到这种情况，要特殊处理一下：</p>
<div class="hlcode"><pre><span class="mf">123.</span><span class="p">.</span><span class="n">toString</span><span class="p">();</span> <span class="c1">// &#39;123&#39;, 注意是两个点！</span>
<span class="p">(</span><span class="mi">123</span><span class="p">).</span><span class="n">toString</span><span class="p">();</span> <span class="c1">// &#39;123&#39;</span>
</pre></div>


<p>不要问为什么，这就是JavaScript代码的乐趣！</p>
    </div>
    <div id="footer">
      <span>
        <p>Copyright © 2016 HanSong Xiao.
        Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1256629854'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s11.cnzz.com/z_stat.php%3Fid%3D1256629854%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script></p>
        <p>Site Generated 2016-08-14 22:28:15</p>
      </span>
    </div>
  </body>
</html>